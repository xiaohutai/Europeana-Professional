{% from 'macros.twig' import linkto, format_filesize, format_filetime %}

<li class="file-browser file-browser-item file-browser-{{ type }}">
    <a class="file-browser"
        href="{{ link }}"
        {% if type == 'dir' %}
           data-fb-cp="{{ absolute_pathname }}"
        {% else %}
           target="file_popup"
        {% endif %}
    >
        <img class="file-browser file-browser-thumbnail file-browser-icon file-browser-icon-{{icon_type}}"
            src="{{ thumb_src }}"
            width="{{ icon_size }}" height="{{ icon_size }}"
        />
        <span class="file-browser file-browser-label file-browser-filename">
        {{ relative_pathname }}
        </span>
        {% if mode == 'list' %}
            <span class="file-browser file-browser-label file-browser-filesize">
                {% if type == 'file' %}
                    {{ format_filesize(file_size) }}
                {% endif %}
            </span>
            <span class="file-browser file-browser-label file-browser-filetime">
                {% if type == 'file' %}
                    {{ format_filetime(file_ctime) }}
                {% endif %}
            </span>
        {% endif %}
    </a>
</li>
